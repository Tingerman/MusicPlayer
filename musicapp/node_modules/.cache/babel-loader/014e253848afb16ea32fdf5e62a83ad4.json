{"ast":null,"code":"import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a61bea1e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"playMusic\"\n};\nconst _hoisted_2 = {\n  class: \"playTop\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-guanbi\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = [_hoisted_3];\nconst _hoisted_5 = {\n  class: \"title\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"right\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-fenxiang\"\n})])], -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  class: \"lyric\",\n  ref: \"playLyric\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"playFooter\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-liebiaoxunhuan\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-shangyishoushangyige\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-playCircle-copy\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = [_hoisted_12];\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-zanting\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = [_hoisted_14];\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-xiayigexiayishou\"\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"icon\",\n  \"aria-hidden\": \"true\"\n}, [/*#__PURE__*/_createElementVNode(\"use\", {\n  \"xlink:href\": \"#icon-songlist-copy\"\n})], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"bg\",\n    style: _normalizeStyle({\n      backgroundImage: `url(${$props.playDetail.al.picUrl})`\n    })\n  }, null, 4\n  /* STYLE */\n  ), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: \"back\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('back'))\n  }, _hoisted_4), _createElementVNode(\"div\", _hoisted_5, _toDisplayString($props.playDetail.name), 1\n  /* TEXT */\n  ), _hoisted_6]), _createCommentVNode(\" <div class=\\\"playContent\\\"></div> \"), _createElementVNode(\"div\", _hoisted_7, [_createCommentVNode(\" <p v-for=\\\"(item,i) in ($store.state.lyric ||'').split(/\\\\n/igs)\\\" :key=\\\"i\\\">{{item}}</p> \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.$store.getters.lyricList, (item, i) => {\n    return _openBlock(), _createElementBlock(\"p\", {\n      class: _normalizeClass({\n        active: _ctx.currentTime * 1000 <= item.next && _ctx.currentTime * 1000 >= item.time\n      }),\n      key: i\n    }, _toDisplayString(item.lyric) + \",\" + _toDisplayString(item.next), 3\n    /* TEXT, CLASS */\n    );\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))], 512\n  /* NEED_PATCH */\n  ), _hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _hoisted_11, $props.paused ? (_openBlock(), _createElementBlock(\"svg\", {\n    key: 0,\n    class: \"icon play\",\n    \"aria-hidden\": \"true\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $props.play && $props.play(...args))\n  }, _hoisted_13)) : (_openBlock(), _createElementBlock(\"svg\", {\n    key: 1,\n    class: \"icon stop\",\n    \"naria-hidden\": \"true\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $props.play && $props.play(...args))\n  }, _hoisted_15)), _hoisted_16, _hoisted_17])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_hoisted_3","ref","_hoisted_12","_hoisted_14","_createElementBlock","style","backgroundImage","$props","al","picUrl","onClick","_ctx","_toDisplayString","name","_hoisted_6","_createCommentVNode","_Fragment","_renderList","getters","lyricList","item","i","active","next","time","key","lyric","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_16","_hoisted_17"],"sourceRoot":"","sources":["/Users/wangmanting/Desktop/云e办/音乐播放器vue项目/musicapp/src/components/playMusic.vue"],"sourcesContent":["<template>\n    <div class=\"playMusic\">\n        <div class=\"bg\" :style=\"{backgroundImage:`url(${playDetail.al.picUrl})`}\"></div>\n        <div class=\"playTop\">\n            <div class=\"back\" @click=\"$emit('back')\">\n                <svg class=\"icon\" aria-hidden=\"true\">\n                    <use xlink:href=\"#icon-guanbi\"></use>\n                </svg>\n            </div>\n            <div class=\"title\">\n                {{playDetail.name}}\n            </div>\n            <div class=\"right\">\n                <svg class=\"icon\" aria-hidden=\"true\">\n                    <use xlink:href=\"#icon-fenxiang\"></use>\n                </svg>\n            </div>\n        </div>\n        <!-- <div class=\"playContent\"></div> -->\n        <div class=\"lyric\" ref=\"playLyric\">\n            <!-- <p v-for=\"(item,i) in ($store.state.lyric ||'').split(/\\n/igs)\" :key=\"i\">{{item}}</p> -->\n            <p :class=\"{active:(currentTime*1000<=(item.next)&& currentTime*1000>=item.time)}\" v-for=\"(item,i) in ($store.getters.lyricList)\" :key=\"i\">{{item.lyric}},{{item.next}}</p>\n        </div>\n        <div class=\"progress\"></div>\n        <div class=\"playFooter\">\n            <svg class=\"icon\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-liebiaoxunhuan\"></use>\n            </svg>\n            <svg class=\"icon\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-shangyishoushangyige\"></use>\n            </svg>  \n            <svg class=\"icon play\" v-if=\"paused\" aria-hidden=\"true\" @click=\"play\">\n                <use xlink:href=\"#icon-playCircle-copy\"></use>\n            </svg>\n            <svg class=\"icon stop\" v-else naria-hidden=\"true\" @click=\"play\">\n                <use xlink:href=\"#icon-zanting\"></use>\n            </svg>\n            <svg class=\"icon\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-xiayigexiayishou\"></use>\n            </svg>\n            <svg class=\"icon\" aria-hidden=\"true\">\n                <use xlink:href=\"#icon-songlist-copy\"></use>\n            </svg>   \n        </div>\n    </div>\n</template>\n\n<style scoped lang=\"less\">\n.playMusic{\n    position: fixed;\n    left:0;\n    top: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: white;\n    .bg{\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100vw;\n        height: 100vh; \n        background-size:auto 100%;\n        filter:blur(60px);\n        background-color: white;\n    }\n    .playTop{\n        display: flex;\n        align-items: center;\n        justify-content: space-around;\n        width: 7.5rem;\n        height:1.2rem;\n        position: absolute;\n        left:0;\n        top:0;\n        color:white;\n        padding:0rem 0.4rem;\n        .back{\n            display: flex;\n            align-items: center;\n        }\n        .title{\n            width:70%;\n            text-align: center;\n            font-size: 0.35rem;\n            text-shadow: 0.01rem 0.01rem #333 ;\n        }\n\n        .icon{\n            fill:white;\n            width:0.45rem;\n            height: 0.45rem;\n\n        }\n    }\n    .playFooter{\n        width: 7.5rem;\n        height: 1.8rem;\n        position: absolute;\n        left:0;\n        bottom: 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding:0 0.4rem;\n        .icon{\n            fill:white;\n            width:0.45rem;\n            height: 0.45rem;\n        }\n        .play.icon{\n            width:1.1rem;\n            height: 1.1rem; \n        }\n        .stop.icon{\n            width:1rem;\n            height: 1rem; \n            margin: 0 0.05rem;\n        }\n    }\n    .lyric{\n        position: absolute;\n        width:7.5rem;\n        height: 8rem;\n        left:0;\n        top:2.2rem;\n        padding:0 0.6rem;\n        overflow: scroll;\n        text-align: center;\n        color:white;\n        text-shadow: 0.01rem 0.01rem #666 ;\n        .active{\n            font-size: 0.38rem;\n            font-weight: 900;\n            // margin-bottom: 0.3rem;\n            // margin-top: 0.3rem;\n            text-shadow: 0.02rem 0.02rem #333 ;\n            // color:red;\n        }\n        p{\n            margin-bottom: 0.2rem;\n        }\n    }\n}\n\n</style>\n\n<script>\n// import { it } from \"node:test\";\nimport {mapState} from \"vuex\";\nexport default {\n    \n    props:['playDetail','paused','play'],\n    computed:{\n        ...mapState(['lyric','currentTime']),\n        // lyricList:function(){\n        //     let arr= this.lyric.split(/\\n/igs).map((item,i)=>{\n        //         let min=item.slice(1,3);\n        //         let sec=item.slice(4,6);\n        //         let mill=item.slice(8,11);\n        //         console.log(min,sec,mill)\n        //         return{\n        //             min,sec,mill\n        //         }\n        //     })\n        // }\n    },\n    watch:{\n        currentTime:function(newValue){\n            console.log(\"new currentTime is:\",newValue)\n            // console.log(\"playLyric:\",[this.$refs.playLyric])\n            // let p={}\n            let p=document.querySelector('p.active');\n            // console.log([p])\n            console.log(\"scrollTop\",this.$refs.playLyric.scrollTop);\n            console.log(\"offsetTop\",p?.offsetTop);\n            let h=this.$refs.playLyric.offsetHeight;\n            //active 的歌词滚动到中间位置\n            if(p?.offsetTop>h/2){\n                //出了屏幕（一半），在当前可见页面的下面\n                this.$refs.playLyric.scrollTop=p?.offsetTop-h/2;\n            }\n\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}