{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nimport api from '@/api/index.js';\nexport default createStore({\n  //全局对象\n  state: {\n    playlist: [{\n      id: 167655,\n      name: \"幻听\",\n      al: {\n        id: 16932,\n        name: \"梦游计\",\n        pic: 109951166118946340,\n        picUrl: \"http://p3.music.126.net/ifjKrYPuGzRHlbVDNScQfA==/109951166118946328.jpg\",\n        pic_str: \"109951166118946328\"\n      }\n    }],\n    playCurrentIndex: 0,\n    lyric: ''\n  },\n  getters: {\n    lyricList: function (state) {\n      let arr = state.lyric.split(/\\n/igs).map((item, i) => {\n        let min = item.slice(1, 3);\n        let sec = item.slice(4, 6);\n        let mill = item.slice(7, item.indexOf(']'));\n        return {\n          min,\n          sec,\n          mill,\n          lyric: item.slice(item.indexOf(']') + 1),\n          item\n        };\n      });\n      console.log(arr);\n      return arr;\n    }\n  },\n  mutations: {\n    setPlaylist: function (state, value) {\n      //修改playlist，直接传值\n      state.playlist = value;\n    },\n\n    setPlayIndex(state, value) {\n      state.playCurrentIndex = value;\n      state.playing = false;\n    },\n\n    setLyric(state, value) {\n      state.lyric = value;\n    }\n\n  },\n  actions: {\n    async reqLyric(content, payload) {\n      let result = await api.getLyric(payload.id);\n      content.commit('setLyric', result.data.lrc.lyric);\n      console.log(\"lyric:\", result.data.lrc.lyric);\n    }\n\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","api","state","playlist","id","name","al","pic","picUrl","pic_str","playCurrentIndex","lyric","getters","lyricList","arr","split","map","item","i","min","slice","sec","mill","indexOf","console","log","mutations","setPlaylist","value","setPlayIndex","playing","setLyric","actions","reqLyric","content","payload","result","getLyric","commit","data","lrc","modules"],"sources":["/Users/wangmanting/Desktop/云e办/音乐播放器vue项目/musicapp/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport axios from 'axios'\nimport api from '@/api/index.js'\n\nexport default createStore({\n  //全局对象\n  state: {\n    playlist:[{\n      id: 167655,\n      name: \"幻听\",\n      al:{id: 16932,\n      name: \"梦游计\",\n      pic: 109951166118946340,\n      picUrl: \"http://p3.music.126.net/ifjKrYPuGzRHlbVDNScQfA==/109951166118946328.jpg\",\n      pic_str: \"109951166118946328\"}\n    }],\n    playCurrentIndex:0,\n    lyric:'',\n  },\n  getters: {\n    lyricList:function(state){\n      let arr= state.lyric.split(/\\n/igs).map((item,i)=>{\n          let min=item.slice(1,3);\n          let sec=item.slice(4,6);\n          let mill=item.slice(7,item.indexOf(']'));\n          return {\n            min,sec,mill,\n            lyric:item.slice(item.indexOf(']')+1),item}\n      })\n      console.log(arr)\n      return arr;\n    }\n  },\n  mutations: {\n    setPlaylist:function(state,value){ //修改playlist，直接传值\n      state.playlist=value;\n    },\n    setPlayIndex(state,value){\n      state.playCurrentIndex=value;\n      state.playing=false;\n    },\n    setLyric(state,value){\n      state.lyric=value;\n    }\n  },\n  actions: {\n    async reqLyric(content,payload){\n      let result=await api.getLyric(payload.id);\n      content.commit('setLyric',result.data.lrc.lyric);\n      console.log(\"lyric:\",result.data.lrc.lyric);\n    }\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AAEA,eAAeF,WAAW,CAAC;EACzB;EACAG,KAAK,EAAE;IACLC,QAAQ,EAAC,CAAC;MACRC,EAAE,EAAE,MADI;MAERC,IAAI,EAAE,IAFE;MAGRC,EAAE,EAAC;QAACF,EAAE,EAAE,KAAL;QACHC,IAAI,EAAE,KADH;QAEHE,GAAG,EAAE,kBAFF;QAGHC,MAAM,EAAE,yEAHL;QAIHC,OAAO,EAAE;MAJN;IAHK,CAAD,CADJ;IAULC,gBAAgB,EAAC,CAVZ;IAWLC,KAAK,EAAC;EAXD,CAFkB;EAezBC,OAAO,EAAE;IACPC,SAAS,EAAC,UAASX,KAAT,EAAe;MACvB,IAAIY,GAAG,GAAEZ,KAAK,CAACS,KAAN,CAAYI,KAAZ,CAAkB,OAAlB,EAA2BC,GAA3B,CAA+B,CAACC,IAAD,EAAMC,CAAN,KAAU;QAC9C,IAAIC,GAAG,GAACF,IAAI,CAACG,KAAL,CAAW,CAAX,EAAa,CAAb,CAAR;QACA,IAAIC,GAAG,GAACJ,IAAI,CAACG,KAAL,CAAW,CAAX,EAAa,CAAb,CAAR;QACA,IAAIE,IAAI,GAACL,IAAI,CAACG,KAAL,CAAW,CAAX,EAAaH,IAAI,CAACM,OAAL,CAAa,GAAb,CAAb,CAAT;QACA,OAAO;UACLJ,GADK;UACDE,GADC;UACGC,IADH;UAELX,KAAK,EAACM,IAAI,CAACG,KAAL,CAAWH,IAAI,CAACM,OAAL,CAAa,GAAb,IAAkB,CAA7B,CAFD;UAEiCN;QAFjC,CAAP;MAGH,CAPQ,CAAT;MAQAO,OAAO,CAACC,GAAR,CAAYX,GAAZ;MACA,OAAOA,GAAP;IACD;EAZM,CAfgB;EA6BzBY,SAAS,EAAE;IACTC,WAAW,EAAC,UAASzB,KAAT,EAAe0B,KAAf,EAAqB;MAAE;MACjC1B,KAAK,CAACC,QAAN,GAAeyB,KAAf;IACD,CAHQ;;IAITC,YAAY,CAAC3B,KAAD,EAAO0B,KAAP,EAAa;MACvB1B,KAAK,CAACQ,gBAAN,GAAuBkB,KAAvB;MACA1B,KAAK,CAAC4B,OAAN,GAAc,KAAd;IACD,CAPQ;;IAQTC,QAAQ,CAAC7B,KAAD,EAAO0B,KAAP,EAAa;MACnB1B,KAAK,CAACS,KAAN,GAAYiB,KAAZ;IACD;;EAVQ,CA7Bc;EAyCzBI,OAAO,EAAE;IACP,MAAMC,QAAN,CAAeC,OAAf,EAAuBC,OAAvB,EAA+B;MAC7B,IAAIC,MAAM,GAAC,MAAMnC,GAAG,CAACoC,QAAJ,CAAaF,OAAO,CAAC/B,EAArB,CAAjB;MACA8B,OAAO,CAACI,MAAR,CAAe,UAAf,EAA0BF,MAAM,CAACG,IAAP,CAAYC,GAAZ,CAAgB7B,KAA1C;MACAa,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBW,MAAM,CAACG,IAAP,CAAYC,GAAZ,CAAgB7B,KAArC;IACD;;EALM,CAzCgB;EAgDzB8B,OAAO,EAAE;AAhDgB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}