{"ast":null,"code":"import { onMounted } from 'vue';\nexport default {\n  props: ['playlist'],\n  // setup(props){\n  //     onMounted(()=>console.log(\"listviewtop的传值成功了没？\",props.playlist))\n  // }\n  data: () => {\n    return {\n      placeholder: \"Racheal Yamagata\",\n      keywordList: ['杨千嬅', '方大同'],\n      searchKeyword: ''\n    };\n  },\n\n  beforeMount() {\n    localStorage.keywordList = \"\";\n    console.log(\"localStorage\", localStorage.keywordList);\n    this.keywordList = localStorage.keywordList ? JSON.parse(localStorage.keywordList) : this.keywordList;\n  },\n\n  methods: {\n    saveKeyword: function () {\n      this.keywordList.push(this.searchKeyword);\n      localStorage.keywordList = JSON.stringify(this.keywordList);\n    },\n\n    clearStorage() {\n      localStorage.keywordList = \"\";\n      this.keywordList = [];\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuGA,SAASA,SAAT,QAA0B,KAA1B;AAEA,eAAe;EACXC,KAAK,EAAC,CAAC,UAAD,CADK;EAEX;EACA;EACA;EACAC,IAAI,EAAC,MAAI;IACL,OAAM;MACFC,WAAW,EAAC,kBADV;MAEFC,WAAW,EAAC,CAAC,KAAD,EAAO,KAAP,CAFV;MAGFC,aAAa,EAAC;IAHZ,CAAN;EAKH,CAXU;;EAYXC,WAAW,GAAE;IACTC,YAAY,CAACH,WAAb,GAAyB,EAAzB;IACAI,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BF,YAAY,CAACH,WAAxC;IACA,KAAKA,WAAL,GAAiBG,YAAY,CAACH,WAAb,GAA0BM,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACH,WAAxB,CAA1B,GAA+D,KAAKA,WAArF;EACH,CAhBU;;EAiBXQ,OAAO,EAAC;IACJC,WAAW,EAAC,YAAU;MAClB,KAAKT,WAAL,CAAiBU,IAAjB,CAAsB,KAAKT,aAA3B;MACAE,YAAY,CAACH,WAAb,GAAyBM,IAAI,CAACK,SAAL,CAAe,KAAKX,WAApB,CAAzB;IACH,CAJG;;IAKJY,YAAY,GAAE;MACXT,YAAY,CAACH,WAAb,GAAyB,EAAzB;MACA,KAAKA,WAAL,GAAiB,EAAjB;IACH;;EARI;AAjBG,CAAf","names":["onMounted","props","data","placeholder","keywordList","searchKeyword","beforeMount","localStorage","console","log","JSON","parse","methods","saveKeyword","push","stringify","clearStorage"],"sourceRoot":"","sources":["/Users/wangmanting/Desktop/云e办/音乐播放器vue项目/musicapp/src/components/SearchTop.vue"],"sourcesContent":["<template>\n    <div class=\"searchTop\">\n        <div class=\"searchTopNav\">\n            <div class=\"back\" @click=\"$router.go(-1)\">\n                <svg class=\"icon\" aria-hidden=\"true\">\n                    <use xlink:href=\"#icon-guanbi\"></use>\n                </svg>\n            </div>\n            <div class=\"inputbox\">\n                <input type=\"text\" v-model=\"searchKeyword\" :placeholder=\"placeholder\" @keydown.enter=\"saveKeyword\">\n            </div>\n\n            <div class=\"right\" @click=\"saveKeyword\">\n                <svg class=\"icon search\" aria-hidden=\"true\">\n                    <use xlink:href=\"#icon-sousuoxiao\"></use>\n                </svg>\n            </div>\n\n        </div>\n\n        <div class=\"history\">\n            <div class=\"historyLeft\">历史</div>\n            <div class=\"historyRight\">\n                <div class=\"keywordItem\" v-for=\"(item,i) in keywordList\" :key=\"i\">{{item}}</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style lang=\"less\">\n.searchTop{\n    width:7.5rem;\n    padding:0 0.4rem;\n    // height:6rem;\n\n    .searchTopNav{\n        display:flex;\n        justify-content: start;\n        width: 100%;\n        height: 1.2rem;\n        align-items: center;\n        font-size: 0.35rem;\n        .icon{\n            width:0.4rem;\n            height: 0.4rem;\n            fill:#333;\n        }\n        .search{\n            margin-left: 0.3rem;\n        }\n        .inputbox{\n            width: 75%;\n            margin-left:0.3rem;\n            height: 0.6rem;\n            input{\n                border: none;\n                outline: none;\n                border-bottom: 1px solid #666;\n                width: 100%;\n                height: 0.5rem;\n            }\n        }\n\n    }\n    .history{\n        display: flex;\n        justify-content: start;\n        height: 0.6rem;\n        padding: 0 0.1rem;\n        flex-wrap: wrap; //自动换行\n        flex:1; //占据剩余宽度\n        .historyLeft{\n            width:1.1rem;\n            height: 0.6rem;\n            font-weight: 800;\n            display:flex;\n            align-items: center;\n            line-height: 0.6rem;\n        }\n        .historyRight{\n            color:#666;\n            display: flex;\n            align-items: center;\n            width: 70%;\n            .keywordItem{\n                display:flex;\n                background-color: #eee;\n                height: 0.55rem;\n                padding: 0 0.2rem;\n                align-items: center;\n                border-radius: 0.3rem;\n                font-size: 0.2rem;\n                margin:0.08rem;\n\n            }\n        }\n    }\n}\n\n</style>\n\n<script>\n\nimport { onMounted } from 'vue';\n\nexport default {\n    props:['playlist'],\n    // setup(props){\n    //     onMounted(()=>console.log(\"listviewtop的传值成功了没？\",props.playlist))\n    // }\n    data:()=>{\n        return{\n            placeholder:\"Racheal Yamagata\",\n            keywordList:['杨千嬅','方大同'],\n            searchKeyword:'',\n        }\n    },\n    beforeMount(){\n        localStorage.keywordList=\"\";\n        console.log(\"localStorage\",localStorage.keywordList)\n        this.keywordList=localStorage.keywordList? JSON.parse(localStorage.keywordList):this.keywordList;\n    },\n    methods:{\n        saveKeyword:function(){\n            this.keywordList.push(this.searchKeyword);\n            localStorage.keywordList=JSON.stringify(this.keywordList);\n        },\n        clearStorage(){\n           localStorage.keywordList=\"\"; \n           this.keywordList=[];\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}